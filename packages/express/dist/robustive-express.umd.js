(function(n,t){typeof exports=="object"&&typeof module!="undefined"?t(exports,require("robustive-ts")):typeof define=="function"&&define.amd?define(["exports","robustive-ts"],t):(n=typeof globalThis!="undefined"?globalThis:n||self,t(n.RobustiveExpress={},n.Robustive))})(this,function(n,t){"use strict";const d=new t.SwiftEnum;t.Scenario.prototype.proceedUntilResponse=function(o,s,r,e){return this.delegate!==void 0&&this.delegate.proceedUntilResponse!==void 0?this.delegate.proceedUntilResponse(o,s,r,e,this):Promise.reject(new Error)},t.Scenario.prototype.respond=function(o,s=d.normal({statusCode:200})){return Promise.resolve({...o,status:s})},t.UsecaseImple.prototype.handleRequest=function(o,s,r){const e=this,p=(i,a,c)=>{const u=c.slice(-1)[0];return u.course==="goals"||u.status?Promise.resolve(u):e._scenario.proceedUntilResponse(i,a,u,r).then(l=>(e.currentContext=l,c.push(l),p(i,a,c)))};if(e._scenario.authorize&&!e._scenario.authorize(r,e._domain,e._usecase)){const i=new t.ActorNotAuthorizedToInteractIn(r,e._domain,e._usecase);return Promise.reject(i)}const f=[e.currentContext];return p(o,s,f)},n.ResponseStatus=d,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=robustive-express.umd.js.map
